<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0">
    <title>講義選択最適化</title>
    <link rel="icon" href="../../favicon.ico">
    <link rel="apple-touch-icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://kit.fontawesome.com/0fcff45f50.js" crossorigin="anonymous"></script>
</head>
<body id="popup-others">
    <div class="header">
        <h1>講義選択最適化</h1>
    </div>

    <div class="container-wrapper">
        <div class="container">
            <div class="botton-container">
                <div>
                    <!-- your info button -->
                    <button id="selected-conditions" class="submit">選択情報<div id="your-info" class="hover-up"></div></button>
                    <a href="../../index.html" class="submit">条件調整画面に戻る</a>
                </div>
                <!-- dialogue button -->
                <button id="chat" class="submit" onclick="openCloseChat()">チャット</button>
            </div>
            <!-- time table -->
            <h1>時間割</h1>
            <div id="antiload" oncontextmenu="return false;">
                <p>単位数： <input type="number" id="units-sum" min="0" value=null readonly></p>
                <table class="timetable">
                    <thead><tr id="table-columns"></tr></thead>
                    <tbody id="table-body"></tbody>
                </table>
                <div class="timetable-others">
                    <div class="timetable-other"><h3>時間割外講義<button onclick="popup(this, isOthers=true)">+</button></h3><div id="anytime" class="cell-others"></div></td></div>
                    <div class="timetable-other"><h3>集中講義<button onclick="popup(this, isOthers=true)">+</button></h3><div id="intensive" class="cell-others"></div></div>
                </div>
            </div>
            <div id="loader" class="sk-fading-circle"></div>
        </div>
    </div>

    <!-- 選択されたセルのポップアップウィンドウ -->
    <div id="popup-window" class="popup" oncontextmenu="return false;">
        <div class="popup-content">
          <button id="close-popup-window" class="close" onclick="hidePopup()">×</button>
          <div id="popup-classes"></div>
          <div class="button-wrapper">
            <button type="submit" id="submit" class="submit popup-button" onclick="setLecture()">登録</button>
        　</div>
        </div>
    </div>

    <!-- ポップアップウィンドウ内の講義を右クリックした時に表示する授業詳細情報 -->
    <div id="class-details" style="display: none;"></div>

    <!-- LLM Chat ウィンドウ -->
    <div id="dialog" class="dialog-content" style="display: none;">
        <h1>LLM Chat</h1>
        <div class="chat-window" id="chat-window"></div>
        <div class="input-area">
            <input type="text" id="chat-input" placeholder="メッセージを入力してください..." />
            <button id="send-button"><i class="fa-regular fa-paper-plane" style="font-size: 16px;"></i></button>
        </div>
        <div class="button-wrapper"><button type="submit" id="submit" class="submit" onclick="reOptimize()">時間割を最適化する</button></div>
        <button id="close-dialog-window" class="close dialog-close" onclick="closeChat()">×</button>
    </div>

    <script src="../js/script.js"></script>
    <script src="../js/active_table.js"></script>
    <script src="../js/chat.js"></script>
</body>
</html>
