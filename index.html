<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>講義選択最適化</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.css">
    <link rel="stylesheet" href="./front/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.6.1/nouislider.min.js"></script>
</head>
<body>
    <div class="header">
        <h1>講義選択最適化</h1>
    </div>
    <div class="container">
        <!-- <form class="form">
            <input type="text" id="ip" placeholder="backend server IP address">
            <button id="sub" class="submit" onclick="setIP()">set IP</button>
        </form> -->
        <input type="text" id="ip" placeholder="backend server IP address">
        <button id="sub" class="submit" onclick="setIP()">set IP</button>
        <header><h2>コース選択</h2></header>
        <form class="form">
            <div class="select">
                <select id="compulsory">
                    <option value="default">学科</option>
                    <option value="知能情報工学科">知能情報工学科</option>
                    <option value="情報通信工学科">情報通信工学科</option>
                    <option value="知的システム工学科">知的システム工学科</option>
                    <option value="物理情報工学化">物理情報工学化</option>
                    <option value="生命化学情報工学化">生命化学情報工学化</option>
                </select>
                <select id="grade">
                    <option value="default">学年</option>
                    <option value="M1">M1</option>
                    <option value="M2">M2</option>
                    <option value="D1">D1</option>
                    <option value="D2">D2</option>
                    <option value="D3">D3</option>
                </select>
                <select id="quarter">
                    <option value="default">クオーター</option>
                    <option value="Q1">Q1</option>
                    <option value="Q2">Q2</option>
                    <option value="Q3">Q3</option>
                    <option value="Q4">Q4</option>
                </select>
                <br>
                <select id="special">
                    <option value="default">専門深化プログラム</option>
                    <option value="データ化学コース">データ化学コース</option>
                    <option value="人工知能コース">人工知能コース</option>
                    <option value="メディア情報学コース">メディア情報学コース</option>
                    <option value="ソフトウェアデザインコース">ソフトウェアデザインコース</option>
                    <option value="情報通信ネットワークコース">情報通信ネットワークコース</option>
                    <option value="コンピュータ工学コース">コンピュータ工学コース</option>
                    <option value="ロボティクスコース">ロボティクスコース</option>
                    <option value="システム制御コース">システム制御コース</option>
                    <option value="先進機械コース">先進機械コース</option>
                    <option value="電子物理コース">電子物理コース</option>
                    <option value="生物物理コース">生物物理コース</option>
                    <option value="分子生命工学コース">分子生命工学コース</option>
                    <option value="医用生命工学コース">医用生命工学コース</option>
                </select>
                <select id="social">
                    <option value="default">社会駆動プログラム</option>
                    <option value="AI応用コース">AI応用コース</option>
                    <option value="金融流通コース">金融流通コース</option>
                    <option value="ソフトウェア開発プロセスコース">ソフトウェア開発プロセスコース</option>
                    <option value="画像認識コース">画像認識コース</option>
                    <option value="ロボティクスシンセシス導入コース">ロボティクスシンセシス導入コース</option>
                    <option value="計算力学エンジニアコース">計算力学エンジニアコース</option>
                    <option value="大規模計算科学：基礎と実践コース">大規模計算科学：基礎と実践コース</option>
                    <option value="アントレプレナーシップコース">アントレプレナーシップコース</option>
                    <option value="情報教育支援コース">情報教育支援コース</option>
                    <option value="生命体工学コース">生命体工学コース</option>
                    <option value="国際エンジニアリング共同講義コース">国際エンジニアリング共同講義コース</option>
                    <option value="需要創発コース">需要創発コース</option>
                    <option value="マイクロ化技術実践コース">マイクロ化技術実践コース</option>
                    <option value="情報工学導入コース">情報工学導入コース</option>
                </select>
            </div>


            <header><h2>条件選択</h2></header>
            <form id="ratingForm"><div id="questions"></div></form>
            <script>
                let el = document.getElementById('questions');
                let titles = [
                    '授業日数は少ない方がいいですか？',
                    '宿題はどれくらいしたくないですか？',
                    '単位数は多い方がいいですか？',
                    'リモート授業は好きですか？',
                    'どれくらい自分の興味のある授業を受けたいですか？',
                    '早朝の授業はどれくらい嫌ですか？',
                    'テストのある授業は嫌ですか？',
                ];
                let labels = [
                    ['　多い方がいい', '少ない方がいい'],
                    ['多い方がいい', 'したくない　'],
                    ['　多い方がいい', '少ない方がいい'],
                    ['　　　　好き', '好きではない'],
                    ['興味のない授業も受けたい', '興味のある授業を受けたい'],
                    ['　　　好き', 'めっちゃ嫌'],
                    ['　　　好き', 'めっちゃ嫌'],
                ];
                for (let i=0; i<titles.length; i++) {
                    let incode = (
                        '<div class="question">'+
                        '<label class="label">'+titles[i]+'</label>'+
                        '<div class="rating-group" data-name="friends">'+
                        '<span class="label-left">'+labels[i][0]+'</span>'+
                        '<input type="radio" id="q'+String(i)+'--5" name="q'+String(i)+'" value="-5"><label for="q'+String(i)+'--5" class="circle-left circle-5"></label>'+
                        '<input type="radio" id="q'+String(i)+'--4" name="q'+String(i)+'" value="-4"><label for="q'+String(i)+'--4" class="circle-left circle-4"></label>'+
                        '<input type="radio" id="q'+String(i)+'--3" name="q'+String(i)+'" value="-3"><label for="q'+String(i)+'--3" class="circle-left circle-3"></label>'+
                        '<input type="radio" id="q'+String(i)+'--2" name="q'+String(i)+'" value="-2"><label for="q'+String(i)+'--2" class="circle-left circle-2"></label>'+
                        '<input type="radio" id="q'+String(i)+'--1" name="q'+String(i)+'" value="-1"><label for="q'+String(i)+'--1" class="circle-left circle-1"></label>'+
                        '<input type="radio" id="q'+String(i)+'-0" name="q'+String(i)+'" value="0"><label for="q'+String(i)+'-0" class="circle-center"></label>'+
                        '<input type="radio" id="q'+String(i)+'-1" name="q'+String(i)+'" value="1"><label for="q'+String(i)+'-1" class="circle-right circle-1"></label>'+
                        '<input type="radio" id="q'+String(i)+'-2" name="q'+String(i)+'" value="2"><label for="q'+String(i)+'-2" class="circle-right circle-2"></label>'+
                        '<input type="radio" id="q'+String(i)+'-3" name="q'+String(i)+'" value="3"><label for="q'+String(i)+'-3" class="circle-right circle-3"></label>'+
                        '<input type="radio" id="q'+String(i)+'-4" name="q'+String(i)+'" value="4"><label for="q'+String(i)+'-4" class="circle-right circle-4"></label>'+
                        '<input type="radio" id="q'+String(i)+'-5" name="q'+String(i)+'" value="5"><label for="q'+String(i)+'-5" class="circle-right circle-5"></label>'+
                        '<span class="label-right">'+labels[i][1]+'</span>'+
                        '</div></div>'
                    )
                    el.insertAdjacentHTML("beforeend", incode);
                }
            </script>

            <div class="question">
                <label class="label" for="slider1">授業は何時以降に入れたいですか？</label>
                <select id="lecture-early" oninput="updateValueFromInput('slider1', this.value)">
                    <option value="1">08:50(1限〜)</option>
                    <option value="2">10:30(2限〜)</option>
                    <option value="3">13:00(3限〜)</option>
                    <option value="4">14:40(4限〜)</option>
                    <option value="5">16:20(5限〜)</option>
                </select>
                <div class="meter">
                    <input type="range" id="slider1" min="1" max="5" value="1" step="1" oninput="updateValueFromSlider('lecture-early', this.value)">
                </div>
            </div>
            <script>
                function updateValueFromSlider(id, value) { document.getElementById(id).value = value; };
                function updateValueFromInput(id, value) { document.getElementById(id).value = value; };
            </script>
            <div class="question">
                <label class="label" for="slider3">目標単位数の幅を指定してください</label>
                <div class="range-wrapper"><div id="range"></div></div>
                <input type="number" id="min-units" min="0" max="30" value="2" readonly placeholder="min">単位以上
                <input type="number" id="max-units" min="0" max="30" value="10" readonly placeholder="max">単位以下
                <script>
                    const range = document.getElementById('range');
                    const num2 = document.getElementById('min-units');
                    const num3 = document.getElementById('max-units');
                    noUiSlider.create(range, {
                        range: {
                            'min': 0,
                            'max': 30
                        },
                        step: 1,
                        start: [num2.value, num3.value],
                        connect: true,
                        behaviour: 'tap-drag',
                        tooltips: false,
                        pips: {
                            mode: 'steps',
                            stepped: true,
                            density: 10
                        }
                    });
                    range.noUiSlider.on('update', function( values, handle ) {
                        num2.value = Math.trunc(values[0]);
                        num3.value = Math.trunc(values[1]);
                    });
                </script>
            </div>
            

            <header><h2>キーワード選択</h2></header>
            <div class="keywords" id="keywords"></div>
            <script>
                let el_key = document.getElementById('keywords');
                var keywords = [
                    '科学技術日本語', '英語', '初等整数論', '群論', '可換環論', 
                    '有限体論', 'RSA暗号', '楕円曲線号', '機械学習', '深層学習',
                    '最適化', 'ソルバー',
                ];
                for (let i=0; i<keywords.length; i++) {
                    let incode = '<input type="checkbox" id="key'+String(i)+'" value="'+keywords[i]+'"><label for="key'+String(i)+'">'+keywords[i]+'</label>'
                    el_key.insertAdjacentHTML("beforeend", incode);
                }
            </script>
        </form>
        <div class="button-wrapper"><button type="submit" id="submit" class="submit" onclick="post()">submit</button></div>
    </div>

    <script src="./front/script.js"></script>
</body>
</html>
